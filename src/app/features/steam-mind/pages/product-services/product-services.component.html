<!-- Hero Banner -->
<section class="w-full">
  <div class="relative w-full overflow-hidden">
    <img
      [src]="data.hero.bgImg"
      [alt]="data.hero.title"
      class="h-[280px] w-full object-cover sm:h-[420px] lg:h-[600px]"
    />
    <div class="absolute inset-0 bg-black/45"></div>

    <div class="absolute inset-0 flex items-center justify-center px-4 sm:px-6 lg:px-10">
      <div class="flex w-full max-w-[980px] flex-col items-center justify-center text-center">
        <h1
          class="text-[18px] font-semibold leading-snug text-white sm:text-[28px] sm:leading-tight lg:text-[36px] lg:leading-tight"
        >
          {{ data.hero.title }}
        </h1>

        <p
          class="mt-2 max-w-[820px] text-[11px] font-medium leading-5 text-white/90 sm:mt-3 sm:text-[13px] sm:leading-6 lg:text-[14px]"
        >
          {{ data.hero.desc }}
        </p>

        <button
          type="button"
          class="cursor-pointer mt-5 inline-flex items-center justify-center rounded-full bg-[#FF6A3D] px-5 py-2 text-[12px] font-semibold text-white shadow-[0_10px_18px_rgba(0,0,0,0.18)] hover:bg-[#ff5a26] focus:outline-none focus:ring-2 focus:ring-white/70 focus:ring-offset-2 focus:ring-offset-black/40 sm:mt-6 sm:px-7 sm:py-2.5 sm:text-[13px] lg:mt-7"
        >
          {{ data.hero.ctaText }}
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Dynamic Sections (pixel-perfect responsive) -->
<ng-container *ngFor="let s of data.sections; trackBy: trackById">
  <section class="w-full" [ngClass]="s.bg === 'gray' ? 'bg-[#F5F5F5]' : 'bg-white'">
    <div #observeSection class="w-full" [attr.data-id]="s.id">
      <!-- Wrapper -->
      <div
        class="mx-auto flex w-full max-w-[1200px] flex-col gap-8 px-4 py-10 sm:gap-10 sm:px-6 sm:py-14 lg:gap-14 lg:px-10 lg:py-16"
        [ngClass]="
          s.layout === 'textLeft'
            ? 'lg:flex-row lg:items-start lg:justify-between'
            : 'lg:flex-row lg:items-center lg:justify-between'
        "
      >
        <!-- ===================== TEXT LEFT ===================== -->
        <ng-container *ngIf="s.layout === 'textLeft'">
          <!-- Left content -->
          <div
            class="flex w-full flex-col lg:max-w-[640px]"
            [@slideInLeft]="isAnimated(s.id) ? 'in' : 'out'"
          >
            <div class="flex w-full">
              <span
                class="inline-flex items-center justify-center bg-[#8E3A8C] px-5 py-2.5 text-[18px] font-semibold leading-none text-white sm:px-6 sm:py-3 sm:text-[22px]"
              >
                {{ s.titleTag }}
              </span>
            </div>

            <ng-container *ngFor="let p of s.paragraphs; let i = index">
              <p
                class="text-[13px] leading-6 text-[#111827] text-justify hyphens-auto break-words sm:text-[14px] sm:leading-6 lg:text-[15px] lg:leading-7"
                [ngClass]="i === 0 ? 'mt-5 sm:mt-6' : 'mt-3 sm:mt-4'"
              >
                {{ p }}
              </p>
            </ng-container>

            <h3
              *ngIf="s.heading1"
              class="mt-5 text-[14px] font-bold text-[#111827] sm:mt-6 sm:text-[16px] lg:text-[17px]"
            >
              {{ s.heading1 }}
            </h3>

            <ul
              *ngIf="s.bullets?.length"
              class="mt-3 flex flex-col gap-2 text-[13px] leading-6 text-[#111827] sm:text-[14px] lg:text-[15px] lg:leading-7"
            >
              <li *ngFor="let b of s.bullets" class="flex items-start gap-2">
                <span class="mt-[7px] h-[4px] w-[4px] shrink-0 rounded-full bg-[#111827]"></span>
                <span class="break-words">{{ b.text }}</span>
              </li>
            </ul>

            <h3
              *ngIf="s.heading2"
              class="mt-5 text-[14px] font-bold text-[#111827] sm:mt-6 sm:text-[16px] lg:text-[17px]"
            >
              {{ s.heading2 }}
            </h3>

            <ol
              *ngIf="s.numbered?.length"
              class="mt-3 flex list-decimal flex-col gap-2 pl-5 text-[13px] leading-6 text-[#111827] sm:text-[14px] lg:text-[15px] lg:leading-7"
            >
              <li *ngFor="let n of s.numbered" class="break-words">{{ n }}</li>
            </ol>

            <p
              *ngIf="s.endingParagraph"
              class="mt-5 text-[13px] leading-6 text-[#111827] text-justify hyphens-auto break-words sm:mt-6 sm:text-[14px] lg:text-[15px] lg:leading-7"
            >
              {{ s.endingParagraph }}
            </p>
          </div>

          <!-- Right image -->
          <div
            *ngIf="s.image"
            [class]="s.image.wrapperClass"
            [@slideInRight]="isAnimated(s.id) ? 'in' : 'out'"
          >
            <ng-container *ngIf="s.image.framed; else normalImg">
              <div class="relative flex w-full max-w-[520px] items-center justify-center sm:max-w-[560px]">
                <div
                  class="absolute -right-3 -top-3 hidden h-full w-full border border-black/40 sm:flex lg:-right-4 lg:-top-4"
                ></div>

                <img
                  [src]="s.image.src"
                  [alt]="s.image.alt"
                  class="relative w-full max-w-full object-contain"
                />
              </div>
            </ng-container>

            <ng-template #normalImg>
              <img
                [src]="s.image.src"
                [alt]="s.image.alt"
                [class]="s.image.imgClass"
                class="max-w-full"
              />
            </ng-template>
          </div>
        </ng-container>

        <!-- ===================== IMAGE LEFT ===================== -->
        <ng-container *ngIf="s.layout === 'textRight'">
          <!-- Left Image -->
          <div
            *ngIf="s.image"
            [class]="s.image.wrapperClass"
            [@slideInLeft]="isAnimated(s.id) ? 'in' : 'out'"
          >
            <img
              [src]="s.image.src"
              [alt]="s.image.alt"
              [class]="s.image.imgClass"
              class="max-w-full"
            />
          </div>

          <!-- Right Content -->
          <div
            class="flex w-full flex-col items-start lg:max-w-[560px]"
            [@slideInRight]="isAnimated(s.id) ? 'in' : 'out'"
          >
            <div class="flex w-full">
              <span
                class="inline-flex items-center justify-center bg-[#8E3A8C] px-5 py-2.5 text-[18px] font-semibold leading-none text-white sm:px-6 sm:py-3 sm:text-[22px]"
              >
                {{ s.titleTag }}
              </span>
            </div>

            <ng-container *ngFor="let p of s.paragraphs; let i = index">
              <p
                class="text-[13px] leading-6 text-[#111827] text-justify hyphens-auto break-words sm:text-[14px] sm:leading-6 lg:text-[15px] lg:leading-7"
                [ngClass]="i === 0 ? 'mt-5 sm:mt-6' : 'mt-3 sm:mt-4'"
              >
                {{ p }}
              </p>
            </ng-container>

            <h3
              *ngIf="s.heading2"
              class="mt-5 text-[14px] font-bold text-[#111827] sm:mt-6 sm:text-[16px] lg:text-[17px]"
            >
              {{ s.heading2 }}
            </h3>

            <ol
              *ngIf="s.numbered?.length"
              class="mt-3 flex list-decimal flex-col gap-2 pl-5 text-[13px] leading-6 text-[#111827] sm:text-[14px] lg:text-[15px] lg:leading-7"
            >
              <li *ngFor="let n of s.numbered" class="break-words">{{ n }}</li>
            </ol>
          </div>
        </ng-container>
      </div>
    </div>
  </section>
</ng-container>
