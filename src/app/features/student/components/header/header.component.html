<header class="w-full bg-[#f5f5f5]">
  <div class="mx-auto w-full max-w-[1300px] px-4 py-3 sm:px-6 lg:px-8">

    <!-- Top Row -->
    <div class="flex w-full items-center justify-between gap-3 sm:gap-6">

      <!-- Logo -->
      <div class="flex items-center gap-2 sm:gap-3">
        <img src="assets/student/header/SteamMindLogo.svg" alt="STEAM Minds Logo"
          class="h-10 w-10 shrink-0 object-contain sm:h-12 sm:w-12" />
        <span class="text-sm font-semibold tracking-wide text-gray-800 sm:text-lg">
          STEAM Minds
        </span>
      </div>

      <!-- Right Side -->
      <div class="flex flex-1 items-center justify-end gap-3 sm:gap-5">

        <!-- Desktop Search -->
        <div class="hidden w-full max-w-lg md:flex">
          <div class="flex w-full items-center rounded-md border bg-white px-3 shadow-sm">
            <span class="text-gray-500">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <circle cx="11" cy="11" r="7" stroke-width="2" />
                <line x1="16" y1="16" x2="21" y2="21" stroke-width="2" />
              </svg>
            </span>
            <input type="search" placeholder="What do you want learn..."
              class="w-full bg-transparent px-2 py-2 text-sm text-gray-700 placeholder-gray-400 focus:outline-none" />
          </div>
        </div>

        <!-- Icons + Profile -->
        <div class="flex items-center gap-3 sm:gap-5">

          <!-- Notifications (toggle) -->
          <a href="#" (click)="toggleNotification($event)"
            class="relative inline-flex items-center justify-center text-gray-700 hover:text-purple-600"
            aria-label="Toggle notifications">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path
                d="M12 2C9 2 7 4 7 7V10C7 11 6.5 12.5 6 13L5 14V16H19V14L18 13C17.5 12.5 17 11 17 10V7C17 4 15 2 12 2Z"
                stroke-width="2" stroke-linecap="round" />
            </svg>

            <span
              class="absolute -top-1 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-orange-500 text-[10px] text-white">
              1
            </span>
          </a>

          <!-- Wishlist -->
          <!-- <a [routerLink]="['/student/wishlist']"
           class="text-gray-700 hover:text-purple-600">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path
                d="M12 21S4 14.5 4 9.5C4 6.5 6.5 4 9.5 4C11 4 12 4.5 13 5.5C14 4.5 15 4 16.5 4C19.5 4 22 6.5 22 9.5C22 14.5 14 21 12 21Z"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </a> -->

          <!-- Cart -->
          <a [routerLink]="['/student/wishlist']" class="relative text-gray-700 hover:text-purple-600">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <circle cx="9" cy="20" r="1.5" />
              <circle cx="16" cy="20" r="1.5" />
              <path d="M3 4H6L7.5 14H18L21 7H8" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span
              class="absolute -top-1 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-orange-500 text-[10px] text-white">
              {{ cartCount$ | async }}
            </span>
          </a>

          <!-- Profile -->
          <button type="button" class="overflow-hidden rounded-full">
            <img [src]="profilePicture" (error)="$any($event.target).src='assets/student/header/userAvatar.svg'"
              alt="User avatar" class="h-10 w-10 rounded-full object-cover ring-1 ring-gray-300 sm:h-11 sm:w-11" />
          </button>

        </div>
      </div>
    </div>

    <!-- Mobile Search -->
    <div class="mt-3 flex w-full md:hidden">
      <div class="flex w-full items-center rounded-md border bg-white px-3 shadow-sm">
        <span class="text-gray-500">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <circle cx="11" cy="11" r="7" stroke-width="2" />
            <line x1="16" y1="16" x2="21" y2="21" stroke-width="2" />
          </svg>
        </span>
        <input type="search" placeholder="What do you want learn..."
          class="w-full bg-transparent px-2 py-2 text-sm text-gray-700 placeholder-gray-400 focus:outline-none" />
      </div>
    </div>

  </div>
</header>

<app-notifications *ngIf="showNotifications" (close)="closeNotifications()"></app-notifications>